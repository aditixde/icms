import{c as f,r as l,j as e}from"./index-B9bZ70Jv.js";import{C as g,S as v}from"./SectorCard-3h9PrRuI.js";import{P as N,M as w}from"./MarketSummary-BWtPZG1M.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=f("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),E=({onResultsChange:h})=>{const[t,c]=l.useState(50),[n,p]=l.useState(null),[o,d]=l.useState({}),[m,x]=l.useState(!1),[i]=l.useState(()=>new g),u=async()=>{x(!0);try{await new Promise(r=>setTimeout(r,300));const a=new g(o).simulateAtPrice(t);p(a),h(a)}catch(s){console.error("Simulation error:",s)}finally{x(!1)}},b=()=>{d({}),c(50),i.resetToDefaults()};l.useEffect(()=>{u()},[t]);const j=(s,a)=>{d(r=>({...r,[s]:a}))};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Carbon Price Simulator"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:b,className:"flex items-center space-x-2 px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(S,{className:"h-4 w-4"}),e.jsx("span",{children:"Reset Defaults"})]}),e.jsxs("button",{onClick:u,disabled:m,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:[e.jsx(N,{className:"h-4 w-4"}),e.jsx("span",{children:m?"Running...":"Run Simulation"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Carbon Price: ₹",t,"/tCO₂"]}),e.jsxs("div",{className:"px-3",children:[e.jsx("input",{type:"range",min:"0",max:"200",value:t,onChange:s=>c(Number(s.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",style:{background:`linear-gradient(to right, #3B82F6 0%, #3B82F6 ${t/200*100}%, #E5E7EB ${t/200*100}%, #E5E7EB 100%)`}}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"₹0"}),e.jsx("span",{children:"₹200"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Policy Sandbox"}),e.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:Object.keys(i.sectoralData).map(s=>{const a=i.sectoralData[s].target,r=o[s]||a;return e.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-xs font-medium text-gray-700",children:s}),e.jsx("span",{className:"text-xs text-gray-500",children:r.toFixed(3)})]}),e.jsx("input",{type:"range",min:a*.5,max:a*1.5,step:"0.01",value:r,onChange:y=>j(s,Number(y.target.value)),className:"w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]},s)})})]})]})}),e.jsx("div",{className:"lg:col-span-2",children:n&&e.jsx(w,{results:n})})]})]}),n&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sector Analysis"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.sectors.map(s=>e.jsx(v,{result:s},s.sector))})]})]})};export{E as PriceSimulator};
